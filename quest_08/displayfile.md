#  Quest 8.3 DisplayFile 

## Название файла Go
`main.go`

---

## Условия задания

| **Instruction** | **Перевод** |
|:--------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| *Write a program that displays, on the standard output, the content of a file given as argument.* | *Напишите программу, которая выводит содержимое файла, указанного в качестве аргумента, на стандартный вывод.* |
---

Нужно написать программу, которая:
1.  Проверяет количество аргументов командной строки.
2.  Если аргументов нет, выводит ошибку "File name missing".
3.  Если аргументов больше одного, выводит ошибку "Too many arguments".
4.  Если передан один аргумент (имя файла), читает его содержимое и выводит его в консоль.

### Пример
 - **Ввод:** `$ go run .` 
 - **Вывод:** `File name missing`
---
- **Ввод:** `$ go run . quest8.txt main.go`
- **Вывод:** `Too many arguments`
---
- **Ввод:** `$ go run . quest8.txt`
- **Вывод:** (Содержимое `quest8.txt`)
---

## Решение

## Решение

```go
package main

import (
	"fmt"
	"os"
)

func main() {
	// 1. Проверка количества аргументов. os.Args включает имя программы.
	args := os.Args
	argCount := len(args)

	if argCount > 2 {
		fmt.Println("Too many arguments")
		return
	} else if argCount == 1 {
		fmt.Println("File name missing")
		return
	}
	
	// Имя файла находится по индексу 1
	filename := args[1] 

	// 2. Чтение файла
	content, err := os.ReadFile(filename)
	
	// 3. Обработка ошибок чтения файла
	if err != nil {
		fmt.Println("Error") 
		return
	}
	
	// 4. Вывод содержимого
	for _, val := range content {
		fmt.Printf(string(val)) 
	}
}
```

---

## Ключевые понятия

| **Термин или инструмент** | **Объяснение** |
|:----------------------------|:---------------|
| **`os.Args`** | **Срез строк** (`[]string`), содержащий аргументы командной строки. **Важно:** `os.Args[0]` всегда является именем самой программы. |
| **`len(os.Args)`** | Возвращает общее количество аргументов, включая имя программы. |
| **`os.ReadFile(filename)`** | Функция для **быстрого чтения** всего содержимого файла. Возвращает `[]byte` (содержимое) и `error`. |
| **`[]byte` (Срез байтов)** | Тип, в котором хранится содержимое файла. Каждый байт может представлять один символ. |
| **`error`** | В Go используется для явной обработки возможных ошибок. Если `err != nil`, значит, что-то пошло не так (например, файл не найден). |
| **`string(val)`** | **Конвертация** одного байта (`val`) в строку перед печатью.
---

## Логика и пошаговый разбор кода

### 1. Проверка аргументов

```go
	args := os.Args
	argCount := len(args)

	if argCount > 2 {
		fmt.Println("Too many arguments")
		return
	} else if argCount == 1 {
		fmt.Println("File name missing")
		return
	}
```
 Мы используем len(os.Args) для проверки:

 - len == 1: Не передан ни один аргумент после имени программы. Требуется вывод "File name missing."

 - len > 2: Передано больше одного имени файла. Требуется Too many arguments.


### 2. Получение имени файла

```go
	filename := args[1]
```
 Если мы прошли проверку, мы знаем, что аргумент ровно один, и имя файла находится по индексу 1.

### 3. Чтение и обработка ошибок

```go
	content, err := os.ReadFile(filename)
	
	if err != nil {
		fmt.Println("Error") 
		return
	}
```
 - Используем идиому Go: value, error := function(...).

 - os.ReadFile читает весь файл в память.

 - Если err не равен nil, это означает, что файл не существует или к нему нет доступа. Программа должна вывести "Error" и завершиться.

### 4. Вывод содержимого

```go
	for _, val := range content {
		fmt.Printf(string(val)) 
	}
```
 Мы используем цикл **for range** для перебора среза байтов (content).

 Каждый байт (val) конвертируется в строку (string(val)) и выводится. Это обеспечивает посимвольный вывод содержимого файла.

---

## Заключение

Что нужно вынести и запомнить из этого задания:
* **Обработка CLI**: Всегда проверяйте `len(os.Args)` и помните, что первый элемент (`os.Args[0]`) — это имя программы.
* **Чтение файлов**: Используйте `os.ReadFile` для простых задач чтения.
* **Обработка ошибок**: Идиоматический Go требует всегда проверять возвращаемое значение `error` (`if err != nil`).