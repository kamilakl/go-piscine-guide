# âœ‚ï¸ Quest 8.5 ztail 

## ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ñ„Ð°Ð¹Ð»Ð° Go
`main.go`

---

## Ð£ÑÐ»Ð¾Ð²Ð¸Ñ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ

| **Instruction** | **ÐŸÐµÑ€ÐµÐ²Ð¾Ð´** |
|:--------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| *Write a program that behaves like a simplified `tail` command that takes at least one file as an argument. The only option to be handled is `-c` and will be used in all the tests as the first argument, with positive values. Handle the errors by returning a non-zero exit status but process all the files.* | *ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñƒ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÐºÐ°Ðº ÑƒÐ¿Ñ€Ð¾Ñ‰ÐµÐ½Ð½Ð°Ñ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° `tail`. ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð´Ð¾Ð»Ð¶Ð½Ð° Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ…Ð¾Ñ‚Ñ Ð±Ñ‹ Ð¾Ð´Ð¸Ð½ Ñ„Ð°Ð¹Ð» Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð°. Ð•Ð´Ð¸Ð½ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ð¾Ð±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÐµÐ¼Ñ‹Ð¹ Ñ„Ð»Ð°Ð³ â€” **`-c`**, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð²ÑÐµÐ³Ð´Ð° Ð±ÑƒÐ´ÐµÑ‚ Ð¿ÐµÑ€Ð²Ñ‹Ð¼ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð¼ Ñ Ð¿Ð¾Ð»Ð¾Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¼ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÐµÐ¼. ÐžÐ±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°Ð¹Ñ‚Ðµ Ð¾ÑˆÐ¸Ð±ÐºÐ¸, Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°Ñ Ð½ÐµÐ½ÑƒÐ»ÐµÐ²Ð¾Ð¹ ÐºÐ¾Ð´ Ð²Ñ‹Ñ…Ð¾Ð´Ð°, Ð½Ð¾ Ð¿Ñ€Ð¸ ÑÑ‚Ð¾Ð¼ **Ð¾Ð±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°Ð¹Ñ‚Ðµ Ð²ÑÐµ Ñ„Ð°Ð¹Ð»Ñ‹**.* |

---

### ðŸ“ ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð·Ð°Ð´Ð°Ñ‡Ð¸ Ð¸ ÐŸÑ€Ð¸Ð¼ÐµÑ€

ÐÑƒÐ¶Ð½Ð¾ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñƒ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ **N Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ñ… Ð±Ð°Ð¹Ñ‚Ð¾Ð²** (ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²) Ð¸Ð· Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð¸Ð»Ð¸ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ñ… Ñ„Ð°Ð¹Ð»Ð¾Ð². ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð´Ð¾Ð»Ð¶Ð½Ð°:
1.  **ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ñ„Ð»Ð°Ð³Ð°:** ÐŸÑ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ„Ð»Ð°Ð³ `-c N` ÐºÐ°Ðº Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð¿ÐµÑ€Ð²Ñ‹Ð¹ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚, Ð³Ð´Ðµ N â€” ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð±Ð°Ð¹Ñ‚Ð¾Ð² Ð´Ð»Ñ Ð²Ñ‹Ð²Ð¾Ð´Ð° Ñ ÐºÐ¾Ð½Ñ†Ð° Ñ„Ð°Ð¹Ð»Ð°.
2.  **ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²Ð° Ñ„Ð°Ð¹Ð»Ð¾Ð²:** Ð•ÑÐ»Ð¸ Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾, Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ **Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº** (`==> filename <==`) Ð¸ Ð¿ÑƒÑÑ‚ÑƒÑŽ ÑÑ‚Ñ€Ð¾ÐºÑƒ-Ñ€Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÐµÐ»ÑŒ Ð¼ÐµÐ¶Ð´Ñƒ Ð½Ð¸Ð¼Ð¸.
3.  **ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¾ÑˆÐ¸Ð±Ð¾Ðº:** ÐŸÑ€Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐµ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¸Ñ/Ñ‡Ñ‚ÐµÐ½Ð¸Ñ Ñ„Ð°Ð¹Ð»Ð° Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰ÐµÐµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ, **Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð°Ñ‚ÑŒ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÑƒ** ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ñ… Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð¸ Ð·Ð°Ð²ÐµÑ€ÑˆÐ°Ñ‚ÑŒÑÑ Ñ ÐºÐ¾Ð´Ð¾Ð¼ Ð²Ñ‹Ñ…Ð¾Ð´Ð° **1** (ÐµÑÐ»Ð¸ Ð±Ñ‹Ð»Ð° Ñ…Ð¾Ñ‚Ñ Ð±Ñ‹ Ð¾Ð´Ð½Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°).

#### Ð£ÑÐ¿ÐµÑˆÐ½Ñ‹Ðµ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¸ (Normal Cases)

| **ÐšÐ¾Ð¼Ð°Ð½Ð´Ð°** | **Ð’Ñ‹Ð²Ð¾Ð´** |
|:---|:---|
| `$ go run . -c 4 file1.txt` |
 ```xyz``` |
| `$ go run . -c 4 file1.txt file2.txt` | 
 ```==> file1.txt <== ```
 ```xyz```
 ``` ==> file2.txt <==```
 ```xyz``` 

#### Ð¡Ñ†ÐµÐ½Ð°Ñ€Ð¸Ð¸ Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ°Ð¼Ð¸ (Error Cases)

| **ÐšÐ¾Ð¼Ð°Ð½Ð´Ð°** | **Ð’Ñ‹Ð²Ð¾Ð´ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ** |
|:---|:---|
| `$ go run . -c 4 file1.txt nonexisting1.txt file2.txt nonexisting2.txt` | 
 ```==> file1.txt <== ``` 
 ```xyz```
 ``` open nonexisting1.txt: no such file or directory```
 ```==> file2.txt <== ``` 
 ``` xyz``` 
 ``` open nonexisting2.txt: no such file or directory``` |

---

## Ð ÐµÑˆÐµÐ½Ð¸Ðµ

## Ð ÐµÑˆÐµÐ½Ð¸Ðµ

```go
package main

import (
	"fmt"
	"os"
)

func main() {
	// 1. ÐŸÑ€ÐµÐ´Ð²Ð°Ñ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² (Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ Ñ‚Ñ€Ð¸: ./tail -c N file.txt)
	if len(os.Args) < 3 || os.Args[1] != "-c" {
		os.Exit(1)
	}

	// 2. Ð˜Ð·Ð²Ð»ÐµÑ‡ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð° Ð±Ð°Ð¹Ñ‚Ð¾Ð² (N)
	var numBytes int
	// fmt.Sscanf Ð¿Ñ‹Ñ‚Ð°ÐµÑ‚ÑÑ Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ int Ð¸Ð· ÑÑ‚Ñ€Ð¾ÐºÐ¾Ð²Ð¾Ð³Ð¾ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð° os.Args[2]
	_, err := fmt.Sscanf(os.Args[2], "%d", &numBytes)
	
	// ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ð¾ÑˆÐ¸Ð±ÐºÑƒ ÐºÐ¾Ð½Ð²ÐµÑ€Ñ‚Ð°Ñ†Ð¸Ð¸ Ð¸Ð»Ð¸ Ð¾Ñ‚Ñ€Ð¸Ñ†Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ N
	if err != nil || numBytes < 0 {
		os.Exit(1)
	}

	hasError := false // Ð¤Ð»Ð°Ð³ Ð´Ð»Ñ Ð¾Ñ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ñ Ð¾ÑˆÐ¸Ð±Ð¾Ðº (Ð´Ð»Ñ os.Exit(1) Ð² ÐºÐ¾Ð½Ñ†Ðµ)

	// 3. Ð¦Ð¸ÐºÐ» Ð¿Ð¾ Ð²ÑÐµÐ¼ Ð¸Ð¼ÐµÐ½Ð°Ð¼ Ñ„Ð°Ð¹Ð»Ð¾Ð², Ð½Ð°Ñ‡Ð¸Ð½Ð°Ñ Ñ os.Args[3]
	// os.Args[3:] - ÑÑ‚Ð¾ ÑÑ€ÐµÐ·, ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‰Ð¸Ð¹ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¸Ð¼ÐµÐ½Ð° Ñ„Ð°Ð¹Ð»Ð¾Ð²
	for i, fileName := range os.Args[3:] {
		// ÐžÑ‚ÐºÑ€Ñ‹Ð²Ð°ÐµÐ¼ Ñ„Ð°Ð¹Ð»
		file, err := os.Open(fileName)
		if err != nil {
			// ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¾ÑˆÐ¸Ð±ÐºÐ¸ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¸Ñ Ñ„Ð°Ð¹Ð»Ð°
			fmt.Println("open " + fileName + ": no such file or directory")
			hasError = true
			continue // ÐŸÐµÑ€ÐµÑ…Ð¾Ð´Ð¸Ð¼ Ðº ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¼Ñƒ Ñ„Ð°Ð¹Ð»Ñƒ, ÐºÐ°Ðº Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð·Ð°Ð´Ð°Ð½Ð¸Ðµ
		}

		// Ð’Ñ‹Ð²Ð¾Ð´ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ° Ð¸ Ñ€Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÐµÐ»Ñ (ÐµÑÐ»Ð¸ Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾)
		if len(os.Args[3:]) > 1 {
			if i > 0 {
				fmt.Println() // ÐŸÑƒÑÑ‚Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ° Ð¿ÐµÑ€ÐµÐ´ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¼ Ñ„Ð°Ð¹Ð»Ð¾Ð¼
			}
			fmt.Printf("==> %s <==\n", fileName)
		}

		// ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ Ñ€Ð°Ð·Ð¼ÐµÑ€ Ñ„Ð°Ð¹Ð»Ð°
		fileInfo, err := file.Stat()
		if err != nil {
			fmt.Println("error getting file info: " + err.Error())
			file.Close()
			hasError = true
			continue
		}

		fileSize := fileInfo.Size()
		
		// 4. Ð Ð°ÑÑ‡ÐµÑ‚ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸ Ð´Ð»Ñ Ð½Ð°Ñ‡Ð°Ð»Ð° Ñ‡Ñ‚ÐµÐ½Ð¸Ñ
		startPos := fileSize - int64(numBytes)
		
		// Ð•ÑÐ»Ð¸ N Ð±Ð¾Ð»ÑŒÑˆÐµ Ñ€Ð°Ð·Ð¼ÐµÑ€Ð° Ñ„Ð°Ð¹Ð»Ð°, Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÐ¼ Ñ Ð½Ð°Ñ‡Ð°Ð»Ð° (Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ñ 0)
		if startPos < 0 {
			startPos = 0
		}

		// 5. ÐŸÐµÑ€ÐµÐ¼ÐµÑ‰ÐµÐ½Ð¸Ðµ ÑƒÐºÐ°Ð·Ð°Ñ‚ÐµÐ»Ñ Ñ‡Ñ‚ÐµÐ½Ð¸Ñ (Seek)
		_, err = file.Seek(startPos, 0) // 0 Ð¾Ð·Ð½Ð°Ñ‡Ð°ÐµÑ‚ SEEK_SET (Ð°Ð±ÑÐ¾Ð»ÑŽÑ‚Ð½Ñ‹Ð¹ Ð¾Ñ‚ÑÑ‡ÐµÑ‚)
		if err != nil {
			fmt.Println("error seeking file: " + err.Error())
			file.Close()
			hasError = true
			continue
		}

		// 6. Ð§Ñ‚ÐµÐ½Ð¸Ðµ Ð¸ Ð²Ñ‹Ð²Ð¾Ð´
		// Ð Ð°Ð·Ð¼ÐµÑ€ Ð±ÑƒÑ„ÐµÑ€Ð° Ñ€Ð°Ð²ÐµÐ½ Ð¾ÑÑ‚Ð°Ð²ÑˆÐµÐ¼ÑƒÑÑ Ð¾Ð±ÑŠÐµÐ¼Ñƒ Ð´Ð»Ñ Ñ‡Ñ‚ÐµÐ½Ð¸Ñ
		bufferSize := fileSize - startPos
		buffer := make([]byte, bufferSize)
		
		_, err = file.Read(buffer)
		if err != nil {
			fmt.Println("error reading file: " + err.Error())
			file.Close()
			hasError = true
			continue
		}

		fmt.Print(string(buffer)) // Ð’Ñ‹Ð²Ð¾Ð´ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ñ… Ð±Ð°Ð¹Ñ‚Ð¾Ð²
		file.Close() // ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð·Ð°ÐºÑ€Ñ‹Ð²Ð°ÐµÐ¼ Ñ„Ð°Ð¹Ð»
	}

	// 7. Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ðµ Ñ ÐºÐ¾Ð´Ð¾Ð¼ Ð¾ÑˆÐ¸Ð±ÐºÐ¸, ÐµÑÐ»Ð¸ Ð±Ñ‹Ð»Ð° Ñ…Ð¾Ñ‚Ñ Ð±Ñ‹ Ð¾Ð´Ð½Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°
	if hasError {
		os.Exit(1)
	}
}

```

---

## ÐšÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ Ð¿Ð¾Ð½ÑÑ‚Ð¸Ñ

| **Ð¢ÐµÑ€Ð¼Ð¸Ð½ Ð¸Ð»Ð¸ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚** | **ÐžÐ±ÑŠÑÑÐ½ÐµÐ½Ð¸Ðµ** |
|:----------------------------|:---------------|
| **Ð¤Ð»Ð°Ð³ `-c N`** | ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚, ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÑŽÑ‰Ð¸Ð¹, ÑÐºÐ¾Ð»ÑŒÐºÐ¾ **Ð±Ð°Ð¹Ñ‚Ð¾Ð²** (ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²) Ð½ÑƒÐ¶Ð½Ð¾ Ð²Ñ‹Ð²ÐµÑÑ‚Ð¸ Ñ ÐºÐ¾Ð½Ñ†Ð° Ñ„Ð°Ð¹Ð»Ð°. |
| **`os.Args[3:]`** | **Ð¡Ð»Ð°Ð¹ÑÐ¸Ð½Ð³** Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð². ÐœÑ‹ Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÐ¼ Ñ†Ð¸ÐºÐ» Ñ **Ð¸Ð½Ð´ÐµÐºÑÐ° 3** Ð´Ð»Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¸Ð¼ÐµÐ½ Ñ„Ð°Ð¹Ð»Ð¾Ð². |
| **`fmt.Sscanf`** | Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ **Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾Ð¹ ÐºÐ¾Ð½Ð²ÐµÑ€Ñ‚Ð°Ñ†Ð¸Ð¸** ÑÑ‚Ñ€Ð¾ÐºÐ¾Ð²Ð¾Ð³Ð¾ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð° (N) Ð² Ñ‡Ð¸ÑÐ»Ð¾Ð²Ð¾Ð¹ Ñ‚Ð¸Ð¿ (`int`). |
| **`file.Stat()`** | ÐœÐµÑ‚Ð¾Ð´, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ **Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð¾ Ñ„Ð°Ð¹Ð»Ðµ** (`os.FileInfo`), Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ ÐµÐ³Ð¾ **Ñ€Ð°Ð·Ð¼ÐµÑ€ Ð² Ð±Ð°Ð¹Ñ‚Ð°Ñ…** (`Size()`). |
| **`file.Seek(offset, whence)`** | **ÐŸÐµÑ€ÐµÐ¼ÐµÑ‰ÐµÐ½Ð¸Ðµ ÑƒÐºÐ°Ð·Ð°Ñ‚ÐµÐ»Ñ Ñ‡Ñ‚ÐµÐ½Ð¸Ñ**. ÐŸÐ¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ Ñ‡Ñ‚ÐµÐ½Ð¸Ðµ Ð½Ðµ Ñ Ð½Ð°Ñ‡Ð°Ð»Ð° Ñ„Ð°Ð¹Ð»Ð°. `0` (`SEEK_SET`) Ð¾Ð·Ð½Ð°Ñ‡Ð°ÐµÑ‚ Ð°Ð±ÑÐ¾Ð»ÑŽÑ‚Ð½ÑƒÑŽ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸ÑŽ. |
| **`os.Exit(1)`** | Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹ Ñ **Ð½ÐµÐ½ÑƒÐ»ÐµÐ²Ñ‹Ð¼ ÐºÐ¾Ð´Ð¾Ð¼ Ð²Ñ‹Ñ…Ð¾Ð´Ð°**, ÑÐ¸Ð³Ð½Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÑ ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ, Ñ‡Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°. |
| **`hasError` (Ð¤Ð»Ð°Ð³ Ð¾ÑˆÐ¸Ð±ÐºÐ¸)** | Ð‘ÑƒÐ»ÐµÐ²Ð° Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð·Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°ÐµÑ‚, Ð±Ñ‹Ð»Ð° Ð»Ð¸ Ð¾Ð±Ð½Ð°Ñ€ÑƒÐ¶ÐµÐ½Ð° Ñ…Ð¾Ñ‚Ñ Ð±Ñ‹ Ð¾Ð´Ð½Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð² ÐºÐ¾Ð½Ñ†Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ `os.Exit(1)`. |

---

## Ð›Ð¾Ð³Ð¸ÐºÐ° Ð¸ Ð¿Ð¾ÑˆÐ°Ð³Ð¾Ð²Ñ‹Ð¹ Ñ€Ð°Ð·Ð±Ð¾Ñ€ ÐºÐ¾Ð´Ð°

### 1. ÐÐ°Ñ‡Ð°Ð»ÑŒÐ½Ð°Ñ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ Ð¸ Ñ‡Ñ‚ÐµÐ½Ð¸Ðµ Ñ„Ð»Ð°Ð³Ð°

```go
if len(os.Args) < 3 || os.Args[1] != "-c" {
	os.Exit(1)
}
// ...
_, err := fmt.Sscanf(os.Args[2], "%d", &numBytes)
if err != nil || numBytes < 0 {
	os.Exit(1)
} 
```
 ÐœÑ‹ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼, Ñ‡Ñ‚Ð¾ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð¸ Ñ‡Ñ‚Ð¾ Ð²Ñ‚Ð¾Ñ€Ð¾Ð¹ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚ â€” ÑÑ‚Ð¾ ÑÑ‚Ñ€Ð¾ÐºÐ° "-c". 
 Ð—Ð°Ñ‚ÐµÐ¼ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ ÐºÐ¾Ð½Ð²ÐµÑ€Ñ‚Ð¸Ñ€ÑƒÐµÐ¼ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð±Ð°Ð¹Ñ‚Ð¾Ð² N Ð¸Ð· ÑÑ‚Ñ€Ð¾ÐºÐ¸ Ð² Ñ†ÐµÐ»Ð¾Ðµ Ñ‡Ð¸ÑÐ»Ð¾.


### 2. Ð¦Ð¸ÐºÐ» Ð¿Ð¾ Ñ„Ð°Ð¹Ð»Ð°Ð¼ Ð¸ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº

```go
for i, fileName := range os.Args[3:] {
    // ...
    if len(os.Args[3:]) > 1 {
        if i > 0 { fmt.Println() }
        fmt.Printf("==> %s <==\n", fileName)
    }
    // ...
}
```
 Ð¦Ð¸ÐºÐ» os.Args[3:] Ð³Ð°Ñ€Ð°Ð½Ñ‚Ð¸Ñ€ÑƒÐµÑ‚, Ñ‡Ñ‚Ð¾ Ð¼Ñ‹ Ð¾Ð±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ„Ð°Ð¹Ð»Ñ‹. 
 Ð‘Ð»Ð¾Ðº if len(...) > 1 Ð¿ÐµÑ‡Ð°Ñ‚Ð°ÐµÑ‚ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¸ (==> file <==) Ð¸ Ð¿ÑƒÑÑ‚ÑƒÑŽ ÑÑ‚Ñ€Ð¾ÐºÑƒ-Ñ€Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÐµÐ»ÑŒ.

### 3. Ð Ð°ÑÑ‡ÐµÑ‚ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸ Ñ‡Ñ‚ÐµÐ½Ð¸Ñ

```go
fileInfo, err := file.Stat()
// ...
fileSize := fileInfo.Size()
startPos := fileSize - int64(numBytes)
if startPos < 0 {
    startPos = 0
}
```
 - ÐœÑ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ Ñ€Ð°Ð·Ð¼ÐµÑ€ Ñ„Ð°Ð¹Ð»Ð° (fileSize) Ð² Ð±Ð°Ð¹Ñ‚Ð°Ñ….

 - Ð’Ñ‹Ñ‡Ð¸ÑÐ»ÑÐµÐ¼ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸ÑŽ Ð½Ð°Ñ‡Ð°Ð»Ð° Ñ‡Ñ‚ÐµÐ½Ð¸Ñ: startPos = Ð Ð°Ð·Ð¼ÐµÑ€ Ñ„Ð°Ð¹Ð»Ð° - N.

 - Ð•ÑÐ»Ð¸ N Ð±Ð¾Ð»ÑŒÑˆÐµ Ñ€Ð°Ð·Ð¼ÐµÑ€Ð° Ñ„Ð°Ð¹Ð»Ð°, startPos ÑÐ±Ñ€Ð°ÑÑ‹Ð²Ð°ÐµÑ‚ÑÑ Ð½Ð° 0, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð²Ñ‹Ð²ÐµÑÑ‚Ð¸ Ð²ÐµÑÑŒ Ñ„Ð°Ð¹Ð».

### 4. ÐÐ°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ñ Ð¸ Ñ‡Ñ‚ÐµÐ½Ð¸Ðµ

```go
_, err = file.Seek(startPos, 0) // 0 Ð¾Ð·Ð½Ð°Ñ‡Ð°ÐµÑ‚ SEEK_SET (Ð°Ð±ÑÐ¾Ð»ÑŽÑ‚Ð½Ñ‹Ð¹ Ð¾Ñ‚ÑÑ‡ÐµÑ‚)
// ...
bufferSize := fileSize - startPos
buffer := make([]byte, bufferSize)
_, err = file.Read(buffer)
```
 - file.Seek Ð¿ÐµÑ€ÐµÐ¼ÐµÑ‰Ð°ÐµÑ‚ ÑƒÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÑŒ Ñ‡Ñ‚ÐµÐ½Ð¸Ñ Ð½Ð° Ñ€Ð°ÑÑÑ‡Ð¸Ñ‚Ð°Ð½Ð½ÑƒÑŽ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸ÑŽ.

 - ÐœÑ‹ ÑÐ¾Ð·Ð´Ð°ÐµÐ¼ Ð±ÑƒÑ„ÐµÑ€ Ñ€Ð°Ð·Ð¼ÐµÑ€Ð¾Ð¼, Ñ€Ð°Ð²Ð½Ñ‹Ð¼ Ñ‚Ð¾Ñ‡Ð½Ð¾Ð¼Ñƒ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ñƒ Ð±Ð°Ð¹Ñ‚Ð¾Ð², ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð½ÑƒÐ¶Ð½Ð¾ Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ (bufferSize).

 - file.Read Ñ‡Ð¸Ñ‚Ð°ÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ñ Ð½Ð¾Ð²Ð¾Ð¹ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸ Ð´Ð¾ ÐºÐ¾Ð½Ñ†Ð° Ñ„Ð°Ð¹Ð»Ð°.

---
### 5. ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¾ÑˆÐ¸Ð±Ð¾Ðº Ð¸ Ð²Ñ‹Ñ…Ð¾Ð´

```go
if err != nil { 
    // ... print error, set hasError = true, continue
}
// ...
if hasError { 
    os.Exit(1) 
}
```
 - Ð›ÑŽÐ±Ð°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ° (Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¸Ðµ, Seek, Read) Ð·Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°ÐµÑ‚ÑÑ (hasError = true).

 - Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ continue Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð° Ðº ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¼Ñƒ Ñ„Ð°Ð¹Ð»Ñƒ, Ð½Ðµ Ð¿Ñ€ÐµÑ€Ñ‹Ð²Ð°Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñƒ.

 - Ð’ ÑÐ°Ð¼Ð¾Ð¼ ÐºÐ¾Ð½Ñ†Ðµ, ÐµÑÐ»Ð¸ hasError Ñ€Ð°Ð²Ð½Ð¾ true, Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð·Ð°Ð²ÐµÑ€ÑˆÐ°ÐµÑ‚ÑÑ Ñ ÐºÐ¾Ð´Ð¾Ð¼ 1, ÐºÐ°Ðº Ñ‚Ð¾Ð³Ð¾ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ ÑƒÑÐ»Ð¾Ð²Ð¸Ðµ.

## Ð“Ð»Ð¾ÑÑÐ°Ñ€Ð¸Ð¹

| **Ð¢ÐµÑ€Ð¼Ð¸Ð½** | **ÐŸÐ¾Ð½ÑÑ‚Ð½Ð¾Ðµ Ð¾Ð±ÑŠÑÑÐ½ÐµÐ½Ð¸Ðµ** |
|-------------|--------------------------|
| **...** | Ð¢ÐµÐºÑÑ‚ |
| **...** | Ð¢ÐµÐºÑÑ‚ |
| **...** | Ð¢ÐµÐºÑÑ‚ |
| **...** | Ð¢ÐµÐºÑÑ‚ |
| **...** | Ð¢ÐµÐºÑÑ‚ |
| **...** | Ð¢ÐµÐºÑÑ‚ |
| **...** | Ð¢ÐµÐºÑÑ‚ |

---

## Ð—Ð°ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ

Ð§Ñ‚Ð¾ Ð½ÑƒÐ¶Ð½Ð¾ Ð²Ñ‹Ð½ÐµÑÑ‚Ð¸ Ð¸ Ð·Ð°Ð¿Ð¾Ð¼Ð½Ð¸Ñ‚ÑŒ Ð¸Ð· ÑÑ‚Ð¾Ð³Ð¾ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ
