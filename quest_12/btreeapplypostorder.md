# Quest 12.3. btreeapplypostorder

## –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ Go

`btreeapplypostorder.go`

---

## –£—Å–ª–æ–≤–∏—è –∑–∞–¥–∞–Ω–∏—è

| **Instruction**                                                                                         | **–ü–µ—Ä–µ–≤–æ–¥**                                                                                                                 |
| ------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------- |
| *Write a function that applies a given function f, to each element in the tree using a postorder walk.* | *–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∑–∞–¥–∞–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é f –∫ –∫–∞–∂–¥–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –¥–µ—Ä–µ–≤–∞, –∏—Å–ø–æ–ª—å–∑—É—è –æ–±—Ö–æ–¥ –ø–æ—Å—Ç–æ—Ä–¥–µ—Ä–∞ (postorder).* |

---

–ù—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è **–æ–±—Ö–æ–¥–∏—Ç –±–∏–Ω–∞—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –≤ –ø–æ—Ä—è–¥–∫–µ postorder** –∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –≤—ã–∑—ã–≤–∞–µ—Ç –∑–∞–¥–∞–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `f`.

üîπ **Postorder traversal ‚Äî —ç—Ç–æ –ø–æ—Ä—è–¥–æ–∫:**

> **–ª–µ–≤–æ ‚Üí –ø—Ä–∞–≤–æ ‚Üí —É–∑–µ–ª**

### –ü—Ä–∏–º–µ—Ä

* **–í–≤–æ–¥:**

```go
package main

import (
	"fmt"
	"piscine"
)

func main() {
	root := &piscine.TreeNode{Data: "4"}
	piscine.BTreeInsertData(root, "1")
	piscine.BTreeInsertData(root, "7")
	piscine.BTreeInsertData(root, "5")
	piscine.BTreeApplyPostorder(root, fmt.Println)

}
```

* **–í—ã–≤–æ–¥:**

```
1
5
7
4
```

–ü–æ—Ä—è–¥–æ–∫ —Ç–∞–∫–æ–π, –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–µ—Ä–µ–≤–æ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

```
        4
      /   \
     1     7
          /
         5
```

–ò –æ–±—Ö–æ–¥ postorder –∏–¥—ë—Ç:

1 ‚Üí 5 ‚Üí 7 ‚Üí 4

---

## –†–µ—à–µ–Ω–∏–µ

```go
package piscine

func BTreeApplyPostorder(root *TreeNode, f func(...interface{}) (int, error)) {
	if root == nil {
		return
	}

	BTreeApplyPostorder(root.Left, f)
	BTreeApplyPostorder(root.Right, f)
	f(root.Data)
}
```

---

## –ö–ª—é—á–µ–≤—ã–µ –ø–æ–Ω—è—Ç–∏—è

| **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç / —ç–ª–µ–º–µ–Ω—Ç –∫–æ–¥–∞**         | **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ**                                                                |
| ------------------------------------- | ------------------------------------------------------------------------------------------ |
| **–ü–∞–∫–µ—Ç (`package ...`)**             | –û–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ñ–∞–π–ª –≤ –º–æ–¥—É–ª—å, —á—Ç–æ–±—ã –µ–≥–æ –º–æ–∂–Ω–æ –±—ã–ª–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å.                              |
| **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ `TreeNode`**              | –£–∑–µ–ª –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞: —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–µ—Ç–µ–π/—Ä–æ–¥–∏—Ç–µ–ª—è.                         |
| **Postorder traversal**               | –û–±—Ö–æ–¥ –¥–µ—Ä–µ–≤–∞ –≤ –ø–æ—Ä—è–¥–∫–µ: *–ª–µ–≤–æ ‚Üí –ø—Ä–∞–≤–æ ‚Üí —É–∑–µ–ª*. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∏ –∞–Ω–∞–ª–∏–∑–∞ –¥–µ—Ä–µ–≤–∞. |
| **–†–µ–∫—É—Ä—Å–∏—è**                          | –§—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç —Å–∞–º—É —Å–µ–±—è, –ø–æ–∫–∞ –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç –ø—É—Å—Ç—ã—Ö —É–∑–ª–æ–≤ (`nil`).                        |
| **–ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π (`if root == nil`)** | –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–µ–∫—É—Ä—Å–∏—é, –∫–æ–≥–¥–∞ —É–∑–µ–ª –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.                                            |
| **–§—É–Ω–∫—Ü–∏—è –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç**              | –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –ª—é–±—É—é —Ñ—É–Ω–∫—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, `fmt.Println`), –∏ –æ–Ω–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞. |
| **–í—ã–∑–æ–≤ `f(root.Data)`**              | –ú–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–∞–¥ —Ç–µ–∫—É—â–∏–º —É–∑–ª–æ–º –ø–æ—Å–ª–µ –æ–±—Ö–æ–¥–∞ –µ–≥–æ –¥–µ—Ç–µ–π.                |

---

## –õ–æ–≥–∏–∫–∞ –∏ –ø–æ—à–∞–≥–æ–≤—ã–π —Ä–∞–∑–±–æ—Ä –∫–æ–¥–∞

### 1. –û–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

```go
func BTreeApplyPostorder(root *TreeNode, f func(...interface{}) (int, error)) {
```

–≠—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –æ–±—ä—è–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é **BTreeApplyPostorder**, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç:

* `root` ‚Äî –∫–æ—Ä–µ–Ω—å –¥–µ—Ä–µ–≤–∞ –∏–ª–∏ –ø–æ–¥–¥–µ—Ä–µ–≤–∞, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –æ–±—Ö–æ–¥
* `f` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫ –∫–∞–∂–¥–æ–º—É —É–∑–ª—É

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç–æ–π —É–∑–µ–ª

```go
if root == nil {
	return
}
```

* –ï—Å–ª–∏ `root == nil`, –∑–Ω–∞—á–∏—Ç:

  * –¥–µ—Ä–µ–≤–æ –ø—É—Å—Ç–æ–µ –∏–ª–∏
  * –º—ã —Å–ø—É—Å—Ç–∏–ª–∏—Å—å –Ω–∏–∂–µ –ª–∏—Å—Ç–∞
* –î–µ–ª–∞—Ç—å –Ω–µ—á–µ–≥–æ ‚Üí –ø—Ä–µ–∫—Ä–∞—â–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

–≠—Ç–æ **–±–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π —Ä–µ–∫—É—Ä—Å–∏–∏**, –±–µ–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ —É–π–¥—ë—Ç –≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –≤—ã–∑–æ–≤.

### 3. –û–±—Ö–æ–¥ –ª–µ–≤–æ–≥–æ –ø–æ–¥–¥–µ—Ä–µ–≤–∞

```go
BTreeApplyPostorder(root.Left, f)
```

* –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ö–æ–¥–∏–º –ª–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ
* –†–µ–∫—É—Ä—Å–∏—è –±—É–¥–µ—Ç —Å–ø—É—Å–∫–∞—Ç—å—Å—è, –ø–æ–∫–∞ –Ω–µ –Ω–∞–π–¥—ë—Ç `nil`

### 4. –û–±—Ö–æ–¥ –ø—Ä–∞–≤–æ–≥–æ –ø–æ–¥–¥–µ—Ä–µ–≤–∞

```go
BTreeApplyPostorder(root.Right, f)
```

* –ü–æ—Å–ª–µ –ª–µ–≤–æ–≥–æ –ø–æ–¥–¥–µ—Ä–µ–≤–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø—Ä–∞–≤–æ–µ
* –ò —Å–Ω–æ–≤–∞ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å–ø—É—Å–∫–∞–µ–º—Å—è –≤–Ω–∏–∑

### 5. –ü—Ä–∏–º–µ–Ω—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –∫ —Ç–µ–∫—É—â–µ–º—É —É–∑–ª—É

```go
f(root.Data)
```

–≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **–ø–æ—Å–ª–µ–¥–Ω–∏–º**, –ø–æ—Ç–æ–º—É —á—Ç–æ postorder:

> –õ–µ–≤–æ ‚Üí –ü—Ä–∞–≤–æ ‚Üí –£–∑–µ–ª

**–ù–∞ —ç—Ç–æ–º —à–∞–≥–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è**, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```go
fmt.Println(root.Data)
```

–ò —É–∑–µ–ª –ø–µ—á–∞—Ç–∞–µ—Ç—Å—è.

---

## –ì–ª–æ—Å—Å–∞—Ä–∏–π

| **–¢–µ—Ä–º–∏–Ω**                   | **–ü–æ–Ω—è—Ç–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ**                                 |
| ---------------------------- | ------------------------------------------------------- |
| **Postorder**                | –û–±—Ö–æ–¥ –¥–µ—Ä–µ–≤–∞: –ª–µ–≤–æ ‚Üí –ø—Ä–∞–≤–æ ‚Üí —É–∑–µ–ª                       |
| **BST (Binary Search Tree)** | –î–µ—Ä–µ–≤–æ, –≥–¥–µ –ª–µ–≤—ã–π —É–∑–µ–ª –º–µ–Ω—å—à–µ —Ç–µ–∫—É—â–µ–≥–æ, –ø—Ä–∞–≤—ã–π ‚Äî –±–æ–ª—å—à–µ |
| **–†–µ–∫—É—Ä—Å–∏—è**                 | –ú–µ—Ç–æ–¥, –∫–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç —Å–∞–º—É —Å–µ–±—è                 |
| **–ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π**           | –£—Å–ª–æ–≤–∏–µ, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º —Ä–µ–∫—É—Ä—Å–∏—è –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è             |
| **–§—É–Ω–∫—Ü–∏—è –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç**     | –¢–µ—Ö–Ω–∏–∫–∞, –∫–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—é –ø–µ—Ä–µ–¥–∞—é—Ç –≤ –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é        |
| **Left child / Right child** | –õ–µ–≤—ã–π –∏ –ø—Ä–∞–≤—ã–π –ø–æ—Ç–æ–º–∫–∏ —É–∑–ª–∞                             |
| **–î–µ—Ä–µ–≤–æ**                   | –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö                          |

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò–∑ —ç—Ç–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –Ω—É–∂–Ω–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å:

* –í postorder-–æ–±—Ö–æ–¥–µ —Ç–µ–∫—É—â–∏–π —É–∑–µ–ª –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è **–ø–æ—Å–ª–µ–¥–Ω–∏–º**.
* –ü–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π –æ—á–µ–Ω—å —Å—Ç—Ä–æ–≥–∏–π:
  **1. –ª–µ–≤—ã–π ‚Üí 2. –ø—Ä–∞–≤—ã–π ‚Üí 3. —Ç–µ–∫—É—â–∏–π —É–∑–µ–ª**
* –†–µ–∫—É—Ä—Å–∏—è –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ–±—Ö–æ–¥–∞ –¥–µ—Ä–µ–≤—å–µ–≤.
* –°–∏–≥–Ω–∞—Ç—É—Ä–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å –ª—é–±—É—é —Ñ—É–Ω–∫—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å).
* –≠—Ç–∞ —Ç–µ—Ö–Ω–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏:

  * —É–¥–∞–ª–µ–Ω–∏–∏ –¥–µ—Ä–µ–≤—å–µ–≤
  * –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä
  * –∞–Ω–∞–ª–∏–∑–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
