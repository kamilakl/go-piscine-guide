# Quest 12.7. btreeisbinary

## –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ Go

`btreeisbinary.go`

---

## –£—Å–ª–æ–≤–∏—è –∑–∞–¥–∞–Ω–∏—è

| **Instruction**                                                                                                                | **–ü–µ—Ä–µ–≤–æ–¥**                                                                                                                              |
| ------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------- |
| *Write a function, BTreeIsBinary, that returns true only if the tree given by root follows the binary search tree properties.* | *–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true`, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –¥–µ—Ä–µ–≤–æ —Å –∫–æ—Ä–Ω–µ–º `root` —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞–º –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ –ø–æ–∏—Å–∫–∞ (BST).* |

---

–ù—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –¥–µ—Ä–µ–≤–æ **–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –±–∏–Ω–∞—Ä–Ω—ã–º –¥–µ—Ä–µ–≤–æ–º –ø–æ–∏—Å–∫–∞**.

–¢–æ –µ—Å—Ç—å –Ω–∞ –∫–∞–∂–¥–æ–º —É–∑–ª–µ –¥–æ–ª–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è:

* **–≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å–ª–µ–≤–∞ –º–µ–Ω—å—à–µ —Ç–µ–∫—É—â–µ–≥–æ**
* **–≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å–ø—Ä–∞–≤–∞ –±–æ–ª—å—à–µ —Ç–µ–∫—É—â–µ–≥–æ**

–ï—Å–ª–∏ –≥–¥–µ-—Ç–æ –Ω–∞—Ä—É—à–µ–Ω–æ ‚Äî –≤–µ—Ä–Ω—É—Ç—å `false`.

### –ü—Ä–∏–º–µ—Ä

* **–í–≤–æ–¥:**

```
–î–µ—Ä–µ–≤–æ:
        4
      /   \
     1     7
          /
         5
```

–í—Å–µ —É–∑–ª—ã —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—Ç –ø—Ä–∞–≤–∏–ª—É BST:

* 1 < 4

* 7 > 4

* 5 < 7

* **–í—ã–≤–æ–¥:**

```
true
```

---

## –†–µ—à–µ–Ω–∏–µ

```go
package piscine

func BTreeIsBinary(root *TreeNode) bool {
	return isBST(root, "", "")
}

func isBST(node *TreeNode, min, max string) bool {
	if node == nil {
		return true
	}

	if (min != "" && node.Data <= min) || (max != "" && node.Data >= max) {
		return false
	}

	return isBST(node.Left, min, node.Data) && isBST(node.Right, node.Data, max)
}
```

---

## –ö–ª—é—á–µ–≤—ã–µ –ø–æ–Ω—è—Ç–∏—è

| **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç / —ç–ª–µ–º–µ–Ω—Ç –∫–æ–¥–∞**          | **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ**                                              |
| -------------------------------------- | ------------------------------------------------------------------------ |
| **Binary Search Tree (BST)**           | –î–µ—Ä–µ–≤–æ, –≥–¥–µ —Å–ª–µ–≤–∞ —Ö—Ä–∞–Ω—è—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç—ã –º–µ–Ω—å—à–µ, —Å–ø—Ä–∞–≤–∞ ‚Äî –±–æ–ª—å—à–µ.             |
| **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–µ—Ä–µ–≤–∞**                   | –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —è–≤–ª—è–µ—Ç—Å—è BST, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –¥–µ—Ä–µ–≤–æ–º. |
| **–†–µ–∫—É—Ä—Å–∏—è**                           | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—Ö–æ–¥–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞.                         |
| **min –∏ max –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**              | –ö–∞–∂–¥—ã–π —É–∑–µ–ª –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.           |
| **–ü—É—Å—Ç–æ–π —É–∑–µ–ª**                        | `nil` —Å—á–∏—Ç–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º BST ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true`.                      |
| **–õ–µ–∫—Å–∏–∫–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫** | –í Go —Å—Ç—Ä–æ–∫–∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –∫–∞–∫ —á–∏—Å–ª–∞ –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É: "5" > "4", "7" > "5".    |
| **–õ–æ–≥–∏—á–µ—Å–∫–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ**               | –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏: –µ—Å–ª–∏ –Ω–∞—Ä—É—à–µ–Ω–æ —É—Å–ª–æ–≤–∏–µ ‚Äî –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ `false`.         |

---

## –õ–æ–≥–∏–∫–∞ –∏ –ø–æ—à–∞–≥–æ–≤—ã–π —Ä–∞–∑–±–æ—Ä –∫–æ–¥–∞

### 1. –û–±—ä—è–≤–ª–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

```go
func BTreeIsBinary(root *TreeNode) bool {
	return isBST(root, "", "")
}
```

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è:

* –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
* –≤–Ω—É—Ç—Ä–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç **–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—É—é** —Ñ—É–Ω–∫—Ü–∏—é `isBST`
* –ø–µ—Ä–µ–¥–∞—ë—Ç –ø—É—Å—Ç—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è `min` –∏ `max`
* –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true` –∏–ª–∏ `false`

–≠—Ç–æ —Ç–æ–ª—å–∫–æ "–≤—Ö–æ–¥" ‚Äî –≤—Å—è –ª–æ–≥–∏–∫–∞ –≤–Ω—É—Ç—Ä–∏ `isBST`.

---

### 2. –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `isBST`

```go
func isBST(node *TreeNode, min, max string) bool {
```

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç:

* `node` ‚Äî —Ç–µ–∫—É—â–∏–π —É–∑–µ–ª
* `min` ‚Äî –Ω–∏–∂–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
* `max` ‚Äî –≤–µ—Ä—Ö–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

–ö–∞–∂–¥—ã–π —É–∑–µ–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç—Ä–æ–≥–æ –º–µ–∂–¥—É `min` –∏ `max`.

---

### 3. –ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π: –¥–æ—à–ª–∏ –¥–æ –ø—É—Å—Ç–æ–≥–æ —É–∑–ª–∞

```go
if node == nil {
	return true
}
```

–ü—É—Å—Ç—ã–µ —É–∑–ª—ã (**nil**) ‚Äî —ç—Ç–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ª–∏—Å—Ç—ã –¥–µ—Ä–µ–≤–∞,
–ø–æ—ç—Ç–æ–º—É **–æ–Ω–∏ –Ω–µ –Ω–∞—Ä—É—à–∞—é—Ç —Å–≤–æ–π—Å—Ç–≤–∞ BST** ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ–º `true`.

---

### 4. –ü—Ä–æ–≤–µ—Ä—è–µ–º: –Ω–∞—Ä—É—à–∞–µ—Ç –ª–∏ —É–∑–µ–ª –ø—Ä–∞–≤–∏–ª–∞ BST?

```go
if (min != "" && node.Data <= min) || (max != "" && node.Data >= max) {
	return false
}
```

–£—Å–ª–æ–≤–∏–µ –æ–∑–Ω–∞—á–∞–µ—Ç:

* –ï—Å–ª–∏ `min` –∑–∞–¥–∞–Ω, —Ç–æ `node.Data` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å **—Å—Ç—Ä–æ–≥–æ –±–æ–ª—å—à–µ** `min`.
* –ï—Å–ª–∏ `max` –∑–∞–¥–∞–Ω, —Ç–æ `node.Data` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å **—Å—Ç—Ä–æ–≥–æ –º–µ–Ω—å—à–µ** `max`.
* –ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ —É—Å–ª–æ–≤–∏–µ –Ω–∞—Ä—É—à–µ–Ω–æ ‚Üí –¥–µ—Ä–µ–≤–æ –Ω–µ BST.

üí° –ü–æ—á–µ–º—É `min != ""`?
–ü–æ—Ç–æ–º—É —á—Ç–æ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –Ω–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π, –∏ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –æ–∑–Ω–∞—á–∞–µ—Ç "–±–µ–∑ –≥—Ä–∞–Ω–∏—Ü—ã".

---

### 5. –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º –ª–µ–≤—É—é –∏ –ø—Ä–∞–≤—É—é —á–∞—Å—Ç–∏

```go
return isBST(node.Left, min, node.Data) &&
       isBST(node.Right, node.Data, max)
```

### –õ–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ:

* –≤—Å—ë —Å–ª–µ–≤–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

  * –±–æ–ª—å—à–µ `min`
  * –º–µ–Ω—å—à–µ —Ç–µ–∫—É—â–µ–≥–æ —É–∑–ª–∞ `node.Data`

–ü–æ—ç—Ç–æ–º—É –ø–µ—Ä–µ–¥–∞—ë–º –Ω–æ–≤—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã:

```
min = –ø—Ä–µ–∂–Ω–∏–π min
max = node.Data
```

### –ü—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ:

* –≤—Å—ë —Å–ø—Ä–∞–≤–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

  * –±–æ–ª—å—à–µ —Ç–µ–∫—É—â–µ–≥–æ —É–∑–ª–∞ `node.Data`
  * –º–µ–Ω—å—à–µ `max`

–ü–µ—Ä–µ–¥–∞—ë–º:

```
min = node.Data
max = –ø—Ä–µ–∂–Ω–∏–π max
```

üí° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü ‚Äî –ª—É—á—à–∏–π —Å–ø–æ—Å–æ–± –ø—Ä–æ–≤–µ—Ä–∫–∏ BST.
–≠—Ç–æ –Ω–∞–¥—ë–∂–Ω–µ–µ, —á–µ–º –ø—Ä–æ—Å—Ç–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥–µ—Ç—å–º–∏.

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ

–î–µ—Ä–µ–≤–æ:

```
        4
      /   \
     1     7
          /
         5
```

### –®–∞–≥–∏:

#### –ö–æ—Ä–µ–Ω—å 4

min="" max=""
‚Üí –ø–æ–¥—Ö–æ–¥–∏—Ç

#### –õ–µ–≤—ã–π —É–∑–µ–ª 1

min="" max="4"
–ø—Ä–æ–≤–µ—Ä–∫–∞: 1 < 4 ‚Üí –æ–∫

#### –ü—Ä–∞–≤—ã–π —É–∑–µ–ª 7

min="4" max=""
–ø—Ä–æ–≤–µ—Ä–∫–∞: 7 > 4 ‚Üí –æ–∫

#### –õ–µ–≤—ã–π —Ä–µ–±—ë–Ω–æ–∫ 7 ‚Üí —É–∑–µ–ª 5

min="4" max="7"
–ø—Ä–æ–≤–µ—Ä–∫–∞:
4 < 5 < 7 ‚Üí –æ–∫

–í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–ø–µ—à–Ω—ã ‚Üí –¥–µ—Ä–µ–≤–æ BST.

---

## –ì–ª–æ—Å—Å–∞—Ä–∏–π

| **–¢–µ—Ä–º–∏–Ω**                     | **–ü–æ–Ω—è—Ç–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ**                                            |
| ------------------------------ | ------------------------------------------------------------------ |
| **BST**                        | –ë–∏–Ω–∞—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –ø–æ–∏—Å–∫–∞ ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –∂—ë—Å—Ç–∫–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è. |
| **–í–∞–ª–∏–¥–∞—Ü–∏—è**                  | –ü—Ä–æ–≤–µ—Ä–∫–∞, –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ª–∏ –¥–µ—Ä–µ–≤–æ.                                    |
| **min / max –≥—Ä–∞–Ω–∏—Ü—ã**          | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —É–∑–ª–∞.                       |
| **–õ–∏—Å—Ç**                       | –£–∑–µ–ª –±–µ–∑ –¥–µ—Ç–µ–π.                                                    |
| **nil**                        | –ü—É—Å—Ç–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å, –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —É–∑–ª–∞.                      |
| **–†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –æ–±—Ö–æ–¥**          | –û–±—Ö–æ–¥ –¥–µ—Ä–µ–≤–∞ —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑ —Å –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ–º –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞. |
| **–õ–µ–∫—Å–∏–∫–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫** | –°—Ç—Ä–æ–∫–∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –∫–∞–∫ –≤ —Å–ª–æ–≤–∞—Ä–µ: `"7" > "5"`.                    |

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å –∏ –∑–∞–ø–æ–º–Ω–∏—Ç—å:

* –î–µ—Ä–µ–≤–æ —è–≤–ª—è–µ—Ç—Å—è BST, –µ—Å–ª–∏ **–∫–∞–∂–¥—ã–π —É–∑–µ–ª** —Å—Ç—Ä–æ–≥–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –º–µ–∂–¥—É –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏.
* –ì—Ä–∞–Ω–∏—Ü—ã –º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –ø–æ –¥–µ—Ä–µ–≤—É:

  * –≤–ª–µ–≤–æ —É–º–µ–Ω—å—à–∞–µ–º `max`
  * –≤–ø—Ä–∞–≤–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º `min`
* –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ ‚Äî —Å–∞–º—ã–π –Ω–∞–¥—ë–∂–Ω—ã–π —Å–ø–æ—Å–æ–± –≤–∞–ª–∏–¥–∞—Ü–∏–∏.
* –ü—É—Å—Ç–æ–π —É–∑–µ–ª (`nil`) –≤—Å–µ–≥–¥–∞ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω.
* –ï—Å–ª–∏ —Ö–æ—Ç—å –æ–¥–Ω–æ –Ω–∞—Ä—É—à–µ–Ω–∏–µ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º `false`.
