# Quest 12.4. btreeapplypreorder

## –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ Go

`btreeapplypreorder.go`

---

## –£—Å–ª–æ–≤–∏—è –∑–∞–¥–∞–Ω–∏—è

| **Instruction**                                                                                       | **–ü–µ—Ä–µ–≤–æ–¥**                                                                                                   |
| ----------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------- |
| *Write a function that applies a given function f to each element in the tree using a preorder walk.* | *–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∑–∞–¥–∞–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é f –∫ –∫–∞–∂–¥–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –¥–µ—Ä–µ–≤–∞, –∏—Å–ø–æ–ª—å–∑—É—è –æ–±—Ö–æ–¥ preorder.* |

---

–ù—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –æ–±—Ö–æ–¥–∏—Ç –±–∏–Ω–∞—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ **–≤ –ø–æ—Ä—è–¥–∫–µ preorder** –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `f` –∫ –∫–∞–∂–¥–æ–º—É —É–∑–ª—É.

üìå **Preorder traversal ‚Äî —ç—Ç–æ –ø–æ—Ä—è–¥–æ–∫:**

> **—É–∑–µ–ª ‚Üí –ª–µ–≤–æ ‚Üí –ø—Ä–∞–≤–æ**

---

### –ü—Ä–∏–º–µ—Ä

* **–í–≤–æ–¥:**

```go
package main

import (
	"fmt"
	"piscine"
)

func main() {
	root := &piscine.TreeNode{Data: "4"}
	piscine.BTreeInsertData(root, "1")
	piscine.BTreeInsertData(root, "7")
	piscine.BTreeInsertData(root, "5")
	piscine.BTreeApplyPreorder(root, fmt.Println)

}
```

* **–í—ã–≤–æ–¥:**

```
4
1
7
5
```

---

## –†–µ—à–µ–Ω–∏–µ

```go
package piscine

func BTreeApplyPreorder(root *TreeNode, f func(...interface{}) (int, error)) {
	if root == nil {
		return
	}

	f(root.Data)
	BTreeApplyPreorder(root.Left, f)
	BTreeApplyPreorder(root.Right, f)
}
```

---

## –ö–ª—é—á–µ–≤—ã–µ –ø–æ–Ω—è—Ç–∏—è

| **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç / —ç–ª–µ–º–µ–Ω—Ç –∫–æ–¥–∞**       | **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ**                                                |
| ----------------------------------- | -------------------------------------------------------------------------- |
| **–ü–∞–∫–µ—Ç (`package ...`)**           | –û–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ñ–∞–π–ª –≤ –º–æ–¥—É–ª—å, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å.                     |
| **–£–∑–µ–ª –¥–µ—Ä–µ–≤–∞ (`TreeNode`)**        | –•—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ —É–∑–ª–∞ + —Å—Å—ã–ª–∫–∏ –Ω–∞ –ª–µ–≤–æ–≥–æ / –ø—Ä–∞–≤–æ–≥–æ —Ä–µ–±—ë–Ω–∫–∞.                   |
| **Preorder traversal**              | –û–±—Ö–æ–¥ –¥–µ—Ä–µ–≤–∞: *—Å–Ω–∞—á–∞–ª–∞ —É–∑–µ–ª ‚Üí –ø–æ—Ç–æ–º –ª–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ ‚Üí –ø–æ—Ç–æ–º –ø—Ä–∞–≤–æ–µ*.       |
| **–†–µ–∫—É—Ä—Å–∏—è**                        | –§—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç —Å–∞–º—É —Å–µ–±—è, –¥–≤–∏–≥–∞—è—Å—å –ø–æ –¥–µ—Ä–µ–≤—É –≤–Ω–∏–∑.                       |
| **–ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π `if root == nil`** | –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–µ–∫—É—Ä—Å–∏—é –Ω–∞ –ø—É—Å—Ç—ã—Ö –≤–µ—Ç–∫–∞—Ö.                                   |
| **–§—É–Ω–∫—Ü–∏—è –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç `f(...)`**   | –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å –ª—é–±—É—é —Ñ—É–Ω–∫—Ü–∏—é –∫ —É–∑–ª–∞–º –¥–µ—Ä–µ–≤–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä `fmt.Println`). |
| **–ü–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π**                | –ì–ª–∞–≤–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ preorder ‚Äî **—Å–Ω–∞—á–∞–ª–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ**, –∞ –Ω–µ –¥–µ—Ç–∏. |

---

## –õ–æ–≥–∏–∫–∞ –∏ –ø–æ—à–∞–≥–æ–≤—ã–π —Ä–∞–∑–±–æ—Ä –∫–æ–¥–∞

### 1. –û–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

```go
func BTreeApplyPreorder(root *TreeNode, f func(...interface{}) (int, error)) {
```

–≠—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –æ–±—ä—è–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é **BTreeApplyPreorder**, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç:

* `root` ‚Äî –∫–æ—Ä–µ–Ω—å –¥–µ—Ä–µ–≤–∞ (–∏–ª–∏ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–¥–¥–µ—Ä–µ–≤–∞);
* `f` ‚Äî —Ñ—É–Ω–∫—Ü–∏—é –≤–∏–¥–∞ `func(...interface{}) (int, error)`, –∫–æ—Ç–æ—Ä—É—é –Ω–∞–¥–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫ –∫–∞–∂–¥–æ–º—É —É–∑–ª—É.

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞: –µ—Å–ª–∏ —É–∑–ª–∞ –Ω–µ—Ç ‚Äî —É—Ö–æ–¥–∏–º

```go
if root == nil {
	return
}
```

–≠—Ç–æ **–±–∞–∑–æ–≤–æ–µ —É—Å–ª–æ–≤–∏–µ —Ä–µ–∫—É—Ä—Å–∏–∏**:

* –µ—Å–ª–∏ —É–∑–µ–ª –ø—É—Å—Ç–æ–π (`nil`) ‚Äî –Ω–∏—á–µ–≥–æ –¥–µ–ª–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ;
* –ø—Ä–µ–∫—Ä–∞—â–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ —ç—Ç–æ–π –≤–µ—Ç–∫–µ.

### 3. –ü—Ä–∏–º–µ–Ω—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –∫ —Ç–µ–∫—É—â–µ–º—É —É–∑–ª—É (–∫–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç)

```go
f(root.Data)
```

–í **preorder** —ç—Ç–æ—Ç —à–∞–≥ ‚Äî –ø–µ—Ä–≤—ã–π.

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç:

* –∫–∞–∫ —Ç–æ–ª—å–∫–æ –º—ã –∑–∞—à–ª–∏ –≤ —É–∑–µ–ª, –º—ã —Å—Ä–∞–∑—É –∂–µ –≤—ã–ø–æ–ª–Ω—è–µ–º –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞–¥ –Ω–∏–º (–ø–µ—á–∞—Ç–∞–µ–º, —Å—á–∏—Ç–∞–µ–º, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º).

–í –ø—Ä–∏–º–µ—Ä–µ:

```go
fmt.Println(root.Data)
```

–ü–µ—á–∞—Ç–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —É–∑–ª–∞.

### 4. –ó–∞—Ç–µ–º —Å–ø—É—Å–∫–∞–µ–º—Å—è –≤ –ª–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ

```go
BTreeApplyPreorder(root.Left, f)
```

* –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±—Ö–æ–¥–∏–º –≤—Å—ë, —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–ª–µ–≤–∞.
* –î–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Ç–æ—Ç –∂–µ –ø–æ—Ä—è–¥–æ–∫: **—É–∑–µ–ª ‚Üí –ª–µ–≤–æ ‚Üí –ø—Ä–∞–≤–æ**.

### 5. –ó–∞—Ç–µ–º –≤ –ø—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ

```go
BTreeApplyPreorder(root.Right, f)
```

* –ü–æ—Å–ª–µ –ª–µ–≤–æ–π —á–∞—Å—Ç–∏ –æ–±—Ö–æ–¥–∏–º –ø—Ä–∞–≤—É—é.
* –ü–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è.

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ

–î–µ—Ä–µ–≤–æ –ø–æ—Å–ª–µ –≤—Å—Ç–∞–≤–æ–∫:

```
        4
      /   \
     1     7
          /
         5
```

Preorder –≤—ã–≤–æ–¥ –¥–æ–ª–∂–µ–Ω –∏–¥—Ç–∏ —Ç–∞–∫:

1. –£–∑–µ–ª `4`
2. –õ–µ–≤—ã–π —Ä–µ–±—ë–Ω–æ–∫ `1`
3. –ü—Ä–∞–≤—ã–π —Ä–µ–±—ë–Ω–æ–∫ `7`
4. –õ–µ–≤—ã–π —Ä–µ–±—ë–Ω–æ–∫ –æ—Ç 7 ‚Üí `5`

‚úî –¢–æ –µ—Å—Ç—å:

```
4
1
7
5
```

–ò–º–µ–Ω–Ω–æ —ç—Ç–æ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≥—Ä–∞–º–º—ã.

---

## –ì–ª–æ—Å—Å–∞—Ä–∏–π

| **–¢–µ—Ä–º–∏–Ω**                     | **–ü–æ–Ω—è—Ç–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ**                                                        |
| ------------------------------ | ------------------------------------------------------------------------------ |
| **Preorder traversal**         | –û–±—Ö–æ–¥: —É–∑–µ–ª ‚Üí –ª–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ ‚Üí –ø—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ.                              |
| **–î–µ—Ä–µ–≤–æ**                     | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, —Å–æ—Å—Ç–æ—è—â–∞—è –∏–∑ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —É–∑–ª–æ–≤.                                |
| **–†–µ–∫—É—Ä—Å–∏—è**                   | –ú–µ—Ç–æ–¥, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç —Å–∞–º–∞ —Å–µ–±—è, —á—Ç–æ–±—ã –ø—Ä–æ–π—Ç–∏ –≤—Å–µ —É—Ä–æ–≤–Ω–∏ –¥–µ—Ä–µ–≤–∞. |
| **–£–∑–µ–ª (`TreeNode`)**          | –≠–ª–µ–º–µ–Ω—Ç –¥–µ—Ä–µ–≤–∞, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –¥–∞–Ω–Ω—ã–µ –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–µ—Ç–µ–π.                           |
| **–ö–æ—Ä–µ–Ω—å –¥–µ—Ä–µ–≤–∞**              | –°–∞–º—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–∑–µ–ª.                                                            |
| **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `...interface{}`** | –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ª—é–±–æ–≥–æ —Ç–∏–ø–∞.                              |
| **fmt.Println**                | –ü–æ–¥—Ö–æ–¥–∏—Ç –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç —Ñ—É–Ω–∫—Ü–∏–∏ `f`, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏–º–µ–µ—Ç –Ω—É–∂–Ω—É—é —Å–∏–≥–Ω–∞—Ç—É—Ä—É.          |

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò–∑ —ç—Ç–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –≤–∞–∂–Ω–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å:

* **Preorder** ‚Äî —ç—Ç–æ –æ–¥–∏–Ω –∏–∑ —Ç—Ä—ë—Ö –∫–ª—é—á–µ–≤—ã—Ö —Å–ø–æ—Å–æ–±–æ–≤ –æ–±—Ö–æ–¥–∞ –¥–µ—Ä–µ–≤–∞.
* –í preorder –ø–µ—Ä–≤—ã–º –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è **—Å–∞–º —É–∑–µ–ª**, –∞ —É–∂–µ –ø–æ—Ç–æ–º –µ–≥–æ –¥–µ—Ç–∏.
* –ë–ª–∞–≥–æ–¥–∞—Ä—è —Ä–µ–∫—É—Ä—Å–∏–∏ –∫–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—á–µ–Ω—å –∫–æ–º–ø–∞–∫—Ç–Ω—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º.
* –ü–µ—Ä–µ–¥–∞–≤–∞–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏—è `f` –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º:
  –º–æ–∂–Ω–æ –ø–µ—á–∞—Ç–∞—Ç—å, —Å—á–∏—Ç–∞—Ç—å, —Å–æ–±–∏—Ä–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è, –¥–µ–ª–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∏ —Ç.–¥.
